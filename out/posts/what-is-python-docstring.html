<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title class="jsx-1793405779">Thomaszdxsn&#x27;s blog</title><link rel="shortcut icon" href="/favicon.ico" class="jsx-1793405779"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/8365d1f9900c1dcd9c78.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8365d1f9900c1dcd9c78.css"/><link rel="preload" href="/_next/static/AgLbZfSMHjmgbMQ9fGcm8/pages/posts/%5Bslug%5D.js" as="script"/><link rel="preload" href="/_next/static/AgLbZfSMHjmgbMQ9fGcm8/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-b65cab0b00afd201cbda.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.98c1b221acb34aa9927b.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.d3a5cad3addbd9214ed4.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-27122c53c6c061494a08.js" as="script"/><link rel="preload" href="/_next/static/chunks/3899a0e34cf2e01ae2c04332a3f2aaaa988c72ec.f33ce77ac6ca2766315b.js" as="script"/><link rel="preload" href="/_next/static/chunks/a3b462b255250d4fa45e9a8586a8bd7d37461ebb.02e0e713809cf001659c.js" as="script"/><style id="__jsx-3560114648">a.jsx-3560114648{color:inherit;-webkit-text-decoration:none;text-decoration:none;}a.jsx-3560114648:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><style id="__jsx-1044838921">header.jsx-1044838921{font-weight:700;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:3rem;background-color:#FAFAFA;}a.jsx-1044838921{color:inherit;-webkit-text-decoration:none;text-decoration:none;}a.jsx-1044838921:hover{-webkit-text-decoration:underline;text-decoration:underline;}.header-inner.jsx-1044838921{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:760px;max-width:100%;padding:0 1rem;}nav.jsx-1044838921{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;magin:0 auto;padding:0 1rem;}nav.jsx-1044838921>a.jsx-1044838921:not(:last-child){margin-right:.6rem;}.breadcrumb.jsx-1044838921{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.breadcrumb.jsx-1044838921>.cursor.jsx-1044838921{height:1rem;width:.5rem;background-color:#fe5186;margin-left:5px;-webkit-animation:cursor-jsx-1044838921 1s infinite;animation:cursor-jsx-1044838921 1s infinite;}@-webkit-keyframes cursor-jsx-1044838921{0%{opacity:0;}50%{opacity:1;}100%{opacity:0;}}@keyframes cursor-jsx-1044838921{0%{opacity:0;}50%{opacity:1;}100%{opacity:0;}}</style><style id="__jsx-2086506432">main.jsx-2086506432{display:block;max-width:760px;padding-top:5rem;}</style><style id="__jsx-1480151783">.jsx-1480151783{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:2rem 1rem;}</style><style id="__jsx-1564904980">html{font-family:"Noto Serif SC",serif;}#__next{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><style id="__jsx-1760989390">.content.jsx-1793405779{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex:1;-ms-flex:1;flex:1;}</style></head><body><div id="__next"><header class="jsx-1044838921"><div class="jsx-1044838921 header-inner"><div class="jsx-1044838921 breadcrumb"><span class="jsx-1044838921 text"><a class="jsx-3560114648" href="/">~</a><span class="jsx-3560114648">/<a class="jsx-3560114648" href="/posts">posts</a> </span><span class="jsx-3560114648">/<!-- -->what-is-python-docstring</span></span><span class="jsx-1044838921 cursor"></span></div><nav class="jsx-1044838921"><a class="jsx-1044838921" href="/about">about</a><a class="jsx-1044838921" href="/posts">posts</a></nav></div></header><div class="jsx-1793405779 content"><main class="jsx-2086506432"><div class="markdown-body"><h1 id="python-的-docstring-标准格式是什么？">Python 的 docstring 标准格式是什么？</h1>
<p>写下这篇文章的原因是：想知道 <code>docstring</code> 的标准是什么，如果没有标准那么通用的惯例是什么？</p>
<p>首先我搜索了「python docstring specification」，找到一篇 <a href="https://www.python.org/dev/peps/pep-0257/" title="PEP257">PEP257 — Docstring Conventions</a>。但是通篇读下来，只是介绍了 docstring 标准的用法，我在源代码中看到的那些格式没有在这里体现。</p>
<p>随后在 stackoverflow 找到我要的答案：<a href="https://stackoverflow.com/questions/3898572/what-is-the-standard-python-docstring-format" title="What is the standard Python docstring format? "> What is the standard Python docstring format? </a></p>
<h2 id="不同的风格">不同的风格</h2>
<ul>
<li><p>Epytext</p>
<p>  这是从 <code>javadoc</code> 沿袭的一种风格，可以被 <a href="http://epydoc.sourceforge.net/" title="Epydoc文档">Epydoc</a> 使用来生成文档。</p>
<p>  示例：</p>
<pre><code class="language-python">  &quot;&quot;&quot;
  This is a javadoc style.

  @param param1: this is a first param
  @param param2: this is a second param
  @return: this is a description of what is returned
  @raise keyError: raises an exception
  &quot;&quot;&quot;</code></pre>
</li>
<li><p>reST</p>
<p>  目前使用最广的格式应该是 <code>reStructuredText(reST)</code>，通常配合 <a href="http://sphinx-doc.org/">Sphinx</a> 用来生成文档。</p>
<p>  示例：</p>
<pre><code class="language-python">  &quot;&quot;&quot;
  This is a reST style.

  :param param1: this is a first param
  :param param2: this is a second param
  :returns: this is a description of what is returned
  :raises keyError: raises an exception
  &quot;&quot;&quot;</code></pre>
</li>
<li><p>Google</p>
<p>  Google 公司有一套他们自己的格式，写在了<a href="https://github.com/google/styleguide/blob/gh-pages/pyguide.md#38-comments-and-docstrings">google/styleguide/pyguide.md</a>。通过插件，也可以使用 sphinx 来生成文档。</p>
<p>  示例：</p>
<pre><code class="language-python">  &quot;&quot;&quot;
  This is a Google style.

  Args:
      param1: This is the first param.
      param2: This is a second param.

  Returns:
      This is a description of what is returned.

  Raises:
      KeyError: Raises an exception.
  &quot;&quot;&quot;</code></pre>
</li>
<li><p>Numpydoc</p>
<p>  Numpy 团队基于 Google style 发展了一套风格。</p>
<pre><code class="language-python">  &quot;&quot;&quot;
  This is Numpy style.

  Parameters
  ----------
  first : array_like
      the 1st param name `first`
  second :
      the 2nd param
  third : {&#39;value&#39;, &#39;other&#39;}, optional
      the 3rd param, by default &#39;value&#39;

  Returns
  -------
  string
      a value in a string

  Raises
  ------
  KeyError
      when a key error
  OtherError
      when an other error
  &quot;&quot;&quot;</code></pre>
</li>
</ul>
<h2 id="pycharm-中生成-docstring-stub">Pycharm 中生成 docstring stub</h2>
<p>Pycharm 在鼠标移动到函数名的时候会有一个 action -&gt;「insert document string stub」，可以自动为函数生成基本的 docstring 格式。</p>
<p>但是默认的格式不是固定的，最早我的电脑会生成 reST 格式，最近生成的却是 Epytext。</p>
<p>通过 <a href="https://www.jetbrains.com/help/pycharm/settings-tools-python-integrated-tools.html">Pycharm用户手册</a>可以查到是怎么设置默认的 docstring style：</p>
<ul>
<li>File | Settings | Tools | Python Integrated Tools for Windows and Linux</li>
<li>PyCharm | Preferences | Tools | Python Integrated Tools for macOS</li>
</ul>
<h2 id="pep257-内容简要">PEP257 内容简要</h2>
<ul>
<li>为所有的公共 modules, functions, classes, methods 编写 docstring。非公共的方法不需要编写 docstring，不过你应该在 <code>def</code> 语句下面用一行注释描述这个方法要做什么。</li>
<li>多行格式中，最后结尾的 <code>&quot;&quot;&quot;</code> 应该算单独一行。</li>
</ul>
<h2 id="总结">总结</h2>
<p>不同的 Python 源代码有不同的注释风格。在 Werkzeug 中，每个函数都通过 docstring 进行了文档式描述，而且通过 sphinx 使用 docstring 生成了最终的文档。</p>
<p>而 Django 只在需要的地方进行了描述（很多时候用的是普通的注释，写在相关代码的周围），并不是每个函数都有 docstring。</p>
<p>并没有谁更正确之分，只要团队成员都接受，那就是正确的。</p>
</div></main></div><footer class="jsx-1480151783"></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"content":"\n# Python 的 docstring 标准格式是什么？\n\n写下这篇文章的原因是：想知道 `docstring` 的标准是什么，如果没有标准那么通用的惯例是什么？\n\n首先我搜索了「python docstring specification」，找到一篇 [PEP257 — Docstring Conventions](https://www.python.org/dev/peps/pep-0257/ \"PEP257\")。但是通篇读下来，只是介绍了 docstring 标准的用法，我在源代码中看到的那些格式没有在这里体现。\n\n随后在 stackoverflow 找到我要的答案：[ What is the standard Python docstring format? ](https://stackoverflow.com/questions/3898572/what-is-the-standard-python-docstring-format \"What is the standard Python docstring format? \")\n\n## 不同的风格\n\n- Epytext\n\n\t这是从 `javadoc` 沿袭的一种风格，可以被 [Epydoc](http://epydoc.sourceforge.net/ \"Epydoc文档\") 使用来生成文档。\n\n\t示例：\n\n\t```python\n\t\"\"\"\n\tThis is a javadoc style.\n\n\t@param param1: this is a first param\n\t@param param2: this is a second param\n\t@return: this is a description of what is returned\n\t@raise keyError: raises an exception\n\t\"\"\"\n\t```\n\n- reST\n\n\t目前使用最广的格式应该是 `reStructuredText(reST)`，通常配合 [Sphinx](http://sphinx-doc.org/) 用来生成文档。\n\n\t示例：\n\n\t```python\n\t\"\"\"\n\tThis is a reST style.\n\n\t:param param1: this is a first param\n\t:param param2: this is a second param\n\t:returns: this is a description of what is returned\n\t:raises keyError: raises an exception\n\t\"\"\"\n\t```\n\n- Google\n\n\tGoogle 公司有一套他们自己的格式，写在了[google/styleguide/pyguide.md](https://github.com/google/styleguide/blob/gh-pages/pyguide.md#38-comments-and-docstrings)。通过插件，也可以使用 sphinx 来生成文档。\n\n\t示例：\n\n\t```python\n\t\"\"\"\n\tThis is a Google style.\n\n\tArgs:\n\t\tparam1: This is the first param.\n\t\tparam2: This is a second param.\n\n\tReturns:\n\t\tThis is a description of what is returned.\n\n\tRaises:\n\t\tKeyError: Raises an exception.\n\t\"\"\"\n\t```\n\n- Numpydoc\n\n\tNumpy 团队基于 Google style 发展了一套风格。\n\n\t```python\n\t\"\"\"\n\tThis is Numpy style.\n\n\tParameters\n\t----------\n\tfirst : array_like\n\t\tthe 1st param name `first`\n\tsecond :\n\t\tthe 2nd param\n\tthird : {'value', 'other'}, optional\n\t\tthe 3rd param, by default 'value'\n\n\tReturns\n\t-------\n\tstring\n\t\ta value in a string\n\n\tRaises\n\t------\n\tKeyError\n\t\twhen a key error\n\tOtherError\n\t\twhen an other error\n\t\"\"\"\n\t```\n\n## Pycharm 中生成 docstring stub\n\nPycharm 在鼠标移动到函数名的时候会有一个 action -\\\u003e「insert document string stub」，可以自动为函数生成基本的 docstring 格式。\n\n但是默认的格式不是固定的，最早我的电脑会生成 reST 格式，最近生成的却是 Epytext。\n\n通过 [Pycharm用户手册](https://www.jetbrains.com/help/pycharm/settings-tools-python-integrated-tools.html)可以查到是怎么设置默认的 docstring style：\n\n- File | Settings | Tools | Python Integrated Tools for Windows and Linux\n- PyCharm | Preferences | Tools | Python Integrated Tools for macOS\n\n## PEP257 内容简要\n\n- 为所有的公共 modules, functions, classes, methods 编写 docstring。非公共的方法不需要编写 docstring，不过你应该在 `def` 语句下面用一行注释描述这个方法要做什么。\n- 多行格式中，最后结尾的 `\"\"\"` 应该算单独一行。\n\n## 总结\n\n不同的 Python 源代码有不同的注释风格。在 Werkzeug 中，每个函数都通过 docstring 进行了文档式描述，而且通过 sphinx 使用 docstring 生成了最终的文档。\n\n而 Django 只在需要的地方进行了描述（很多时候用的是普通的注释，写在相关代码的周围），并不是每个函数都有 docstring。\n\n并没有谁更正确之分，只要团队成员都接受，那就是正确的。\n\n","author":"thomaszdxsn","title":"Python docstring 的标准格式是什么？","slug":"what-is-python-docstring","tag":"python,docstring","date":"2020-4-19"}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"what-is-python-docstring"},"buildId":"AgLbZfSMHjmgbMQ9fGcm8","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-16ccf9440fd1c9275fd4.js"></script><script async="" data-next-page="/posts/[slug]" src="/_next/static/AgLbZfSMHjmgbMQ9fGcm8/pages/posts/%5Bslug%5D.js"></script><script async="" data-next-page="/_app" src="/_next/static/AgLbZfSMHjmgbMQ9fGcm8/pages/_app.js"></script><script src="/_next/static/runtime/webpack-b65cab0b00afd201cbda.js" async=""></script><script src="/_next/static/chunks/framework.98c1b221acb34aa9927b.js" async=""></script><script src="/_next/static/chunks/commons.d3a5cad3addbd9214ed4.js" async=""></script><script src="/_next/static/runtime/main-27122c53c6c061494a08.js" async=""></script><script src="/_next/static/chunks/3899a0e34cf2e01ae2c04332a3f2aaaa988c72ec.f33ce77ac6ca2766315b.js" async=""></script><script src="/_next/static/chunks/a3b462b255250d4fa45e9a8586a8bd7d37461ebb.02e0e713809cf001659c.js" async=""></script><script src="/_next/static/AgLbZfSMHjmgbMQ9fGcm8/_buildManifest.js" async=""></script><script src="/_next/static/AgLbZfSMHjmgbMQ9fGcm8/_ssgManifest.js" async=""></script></body></html>