{"version":3,"file":"static/webpack/static/development/pages/posts.js.897a97ea4203d0efa572.hot-update.js","sources":["webpack:///./pages/posts/index.tsx"],"sourcesContent":["import React from 'react';\nimport Link from 'next/link';\nimport {NextPage, GetStaticProps} from 'next'\n\nimport {BasicLayout} from \"../../layouts\";\nimport {getPosts} from '../../utils';\nimport {Post} from '../../interfaces';\n\n\ninterface Props {\n  posts: Exclude<Post, 'content'>[]\n}\n\n\nconst PostsPage: NextPage<Props> = ({posts}) => {\n  const groupByPosts = posts.map(\n      post => ({...post, date: new Date(post.date)})\n  ).reduce(\n      (acc, curr) => {\n        const year = curr.date.getFullYear().toString();\n        return {\n            ...acc,\n            [year]: [...(acc[year] || []), curr]\n        }\n      },\n      {} as {[year: string]: typeof posts}\n  );\n  console.log(groupByPosts);\n\n  return (\n      <BasicLayout>\n        <main>\n          <h1>Posts</h1>\n          <article>\n            {Object.entries(groupByPosts).sort((prev, curr) => prev[0] < curr[0] ? 1 : -1).map(([year, posts]) => (\n                <section key={year}>\n                  <h2>{year}</h2>\n                  <ul>\n                    {posts.map(post => (\n                      <li key={post.slug}>\n                        <Link href={`/posts/${post.slug}`} passHref>\n                          <a>\n                            <span>{post.title}</span>\n                            <span>{`${(post.date as Date).getMonth() + 1}月${(post.date as Date).getDate()}日`}</span>\n                          </a>\n                        </Link>\n                      </li>\n                    ))}\n                  </ul>\n                </section>\n            ))}\n          </article>\n        </main>\n\n        <style jsx>{`\n          main {\n            width: 100%;\n            max-width: 760px;\n          }\n        \n          ul {\n            list-style-type: none;\n          }\n          \n          li {\n            padding: .5rem 0;\n            border-bottom: 1px dotted black;\n          }\n          \n          li > a {\n            display: flex;\n            justify-content: space-between;\n            color: inherit;\n            text-decoration: none;\n          }\n        `}</style>\n      </BasicLayout>\n    )\n};\n\nexport default PostsPage\n\n\nexport const getStaticProps: GetStaticProps = async () => {\n  const posts = getPosts();\n  return {\n    props: {\n      posts: posts.map(({content, ...rest}) => rest).sort(\n          (prev, curr) => prev.date > curr.date ? 1 : -1\n      )\n    }\n  }\n};\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAGA;AACA;AASA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAIA;AAGA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;AAJA;AAJA;AAAA;AAAA;AAgDA;AACA;;AACA;;;;A","sourceRoot":""}